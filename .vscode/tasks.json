{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Build Docker image",
            "type": "shell",
            "command": "docker build . -t ytdlwui",
            "problemMatcher": [],
            "promptOnClose": false,
        },
        {
            "label": "Launch Docker container",
            "type": "shell",
            "command": "docker kill -s HUP ytdlwui || docker run -d --name ytdlwui --rm -it -p 8963:80 -v $(pwd):/var/www/html/youtube-dl -v $(pwd)/tmp/sessions:/var/lib/php/sessions ytdlwui",
            "problemMatcher": [],
            "dependsOn": [ "Build Docker image" ],
            "promptOnClose": false,
        },
        {
            "label": "View Docker container logs",
            "type": "shell",
            "command": "docker logs -f ytdlwui",
            "problemMatcher": [],
            "promptOnClose": false,
        },
        {
            "label": "Stop Docker container and remove it",
            "type": "shell",
            "command": "docker rm -f ytdlwui",
            "problemMatcher": [],
            "promptOnClose": false,
        },
        {
            "label": "Start shell in Docker container",
            "type": "shell",
            "command": "docker exec -it ytdlwui /bin/bash -c 'su -s /bin/bash www-data'",
            "problemMatcher": [],
            "promptOnClose": false,
        },
        {
            "label": "Install Pornhub userscript",
            "type": "shell",
            "command": "x-www-browser http://localhost:8963/pornhub.user.js",
            "problemMatcher": [],
            "promptOnClose": false,
        },
    ]
}